if(!("onscrollend"in window)){const o=new Event("scrollend"),r=new Set;document.addEventListener("touchstart",e=>{for(let t of e.changedTouches)r.add(t.identifier)},{passive:!0}),document.addEventListener("touchend",e=>{for(let t of e.changedTouches)r.delete(t.identifier)},{passive:!0});let s,l,d=new WeakMap;function e(e,t,n){let i=e[t];e[t]=function(){let e=Array.prototype.slice.apply(arguments,[0]);i.apply(this,e),e.unshift(i),n.apply(this,e)}}function t(e,t,n,i){if("scroll"!=t&&"scrollend"!=t)return;let c=this,a=d.get(c);void 0===a&&(a={scrollListener:e=>{void 0!==s&&cancelAnimationFrame(s),s=requestAnimationFrame(()=>s=requestAnimationFrame(()=>{void 0===l&&(l=s),s-l>30&&(r.size?setTimeout(a.scrollListener,100):c.dispatchEvent(o),l=s)}))},listeners:0},e.apply(c,["scroll",a.scrollListener]),d.set(c,a)),a.listeners++}function n(e,t,n){if("scroll"!=t&&"scrollend"!=t)return;let i=this,o=d.get(i);void 0!==o&&(o[t]--,--o.listeners>0||(e.apply(i,["scroll",o.scrollListener]),d.delete(i)))}e(Element.prototype,"addEventListener",t),e(window,"addEventListener",t),e(document,"addEventListener",t),e(Element.prototype,"removeEventListener",n),e(window,"removeEventListener",n),e(document,"removeEventListener",n)}var i={__proto__:null};export{i as scrollend};
//# sourceMappingURL=scrollyfills.modern.js.map
